---
title: Mastodon
description: "Latest posts from <a href='https://fosstodon.org/@djpeacher'>@djpeacher@fosstodon.org</a>"
---

<div id="mastodon"></div>

<!-- Based on https://timpurdum.com/2022/11/19/mastodon-feed-in-jekyll.html -->
<script type="text/javascript">
    let mastoDiv = document.getElementById('mastodon');
    fetch("https://fosstodon.org/@djpeacher.rss")
        .then(response => response.text())
        .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
        .then(data => {
            const items = data.querySelectorAll("item");
            items.forEach(el => {
                let section = document.createElement('section');
                let content = el.querySelector("description").innerHTML.trim();
                let link = el.querySelector("link").innerHTML.trim();
                let pubDate = el.querySelector("pubDate").innerHTML.trim();
                let post = "<a href='" + link + "'>" + convertTime(pubDate) + "</a>"
                section.innerHTML += decodeEntity(post + content);
                let media = el.querySelector("content");
                if (media !== null) {
                    let mediaUrl = media.getAttribute("url");
                    let mediaDescription = media.querySelector("description");
                    mediaDescription = mediaDescription !== null ? mediaDescription.innerHTML.trim() : "";
                    if (mediaUrl !== null) {
                        section.innerHTML += `<figure><img width="1005" src="${mediaUrl}" /><figcaption>${mediaDescription}</figcaption></figure>`;
                    }
                }
                mastoDiv.appendChild(section);
            });
        });

    function decodeEntity(inputStr) {
        var textarea = document.createElement("textarea");
        textarea.innerHTML = inputStr;
        return textarea.value;
    }
</script>

<!-- Generated by ChatGPT! lol -->
<script type="text/javascript">
    function convertTime(time) {
        const timestamp = time;
        const date = new Date(timestamp);
        const day = date.getDate().toString().padStart(2, '0');
        const month = (date.getMonth() + 1).toString().padStart(2, '0');
        const year = date.getFullYear().toString().slice(-2);
        const hours = date.getHours().toString().padStart(2, '0');
        const minutes = date.getMinutes().toString().padStart(2, '0');
        const formattedTimestamp = year + month + day + " @ " + hours + ":" + minutes;
        return formattedTimestamp
    }
</script>